version: "2.0"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - bot_challenge
  - train_topics
  - inform
  - check_balance
  - pay_cc
  - stop

entities:
  - credit_card
  - account_type
  - number

slots:
  account_type:
    type: text
    influence_conversation: true
  credit_card:
    type: text
    influence_conversation: false
  number:
    type: any
    influence_conversation: false
  payment_amount:
    type: any
    influence_conversation: false

responses:
  utter_ask_make_payment_form_credit_card:
  - text: "What credit card would you like to make a payment for?"

  utter_ask_make_payment_form_payment_amount:
  - text: "How much would you like to pay for your {credit_card} card?"

  utter_greet:
  - text: "Hey! Welcome to your Rasa Training!"

  utter_training_topics:
  - text: "During training we will cover:\n - Intents\n - Entities\n - NLU Pipelines\n - Lookups\n - Synonyms\n
  - Dialogue Management\n - Rules\n - Slots\n - Forms\n - Custom Actions"

  utter_account_balance:
  - text: "This is where you would get your account balance."

  utter_account_balance_type:
  - text: "Your account balance for {account_type} is."

  utter_exit_form:
  - text: "Okay, let's exit the form."

  utter_make_payment_for_card:
  - text: "Let's make a payment for your {credit_card} card."

  utter_make_payment:
  - text: "We'll gather more information about making a payment here."

  utter_payment_thank_you:
  - text: "Thank you for your payment of ${payment_amount} towards your {credit_card} card."

  utter_please_rephrase:
  - text: "I didn't quite understand that. Could you please rephrase?"

  utter_goodbye:
  - text: "Bye"

  utter_iamabot:
  - text: "I am a bot, powered by Rasa."

actions:
  - action_account_balance
  - validate_make_payment_form
  - action_process_make_payment_form

forms:
  make_payment_form:
    credit_card:
      - type: from_entity
        entity: credit_card
      - type: from_text
    payment_amount:
      - type: from_entity
        entity: number

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
